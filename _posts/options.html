<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retirement Calculator with Stock Options</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background-color: #f9f9f9;
  }
  .container {
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 4px;
    border: 1px solid #ddd;
  }
  button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    background-color: #008CBA;
    color: white;
    font-size: 16px;
    cursor: pointer;
  }
  .result {
    margin-top: 20px;
  }
</style>
</head>
<body>

<div class="container">
  <h1>Retirement Calculator</h1>
  <input type="number" id="withdrawal" placeholder="Annual Withdrawal Amount" required>
  <input type="number" id="monthly_contribution" placeholder="Monthly Contribution Amount" required>
  <input type="number" id="return_rate" placeholder="Annual Return Rate (e.g., 0.07 for 7%)" step="0.01" required>
  <input type="number" id="start_age" placeholder="Start Age" required>
  <input type="number" id="end_age" placeholder="End Age" required>
  <input type="number" id="contribution_end_age" placeholder="Contribution End Age" required>
  <input type="number" id="shares" placeholder="Number of Shares" required>
  <input type="number" id="sell_price" placeholder="Sell Price" step="0.01" required>
  <input type="number" id="strike_price" placeholder="Strike Price" value="1.14" step="0.01" required>
  <button onclick="calculateRetirement()">Calculate</button>
  <div class="result" id="result"></div>
</div>

<script>
  function initialDepositValue(shares, sellPrice, strikePrice) {
    return shares * (sellPrice - strikePrice);
  }

  function futureValueOfSavings(savings, returnRate, years) {
    return savings * Math.pow((1 + returnRate), years);
  }

  function futureValueOfContributions(monthlyContribution, returnRate, contributionYears) {
    return monthlyContribution * 12 * (Math.pow((1 + returnRate), contributionYears) - 1) / returnRate;
  }

  function futureValueOfWithdrawals(withdrawal, returnRate, years) {
    return withdrawal * (1 - Math.pow((1 + returnRate), -years)) / returnRate;
  }

  function calculateRetirement() {
    const withdrawal = parseFloat(document.getElementById('withdrawal').value);
    const monthlyContribution = parseFloat(document.getElementById('monthly_contribution').value);
    const returnRate = parseFloat(document.getElementById('return_rate').value);
    const startAge = parseInt(document.getElementById('start_age').value);
    const endAge = parseInt(document.getElementById('end_age').value);
    const contributionEndAge = parseInt(document.getElementById('contribution_end_age').value);
    const shares = parseInt(document.getElementById('shares').value);
    const sellPrice = parseFloat(document.getElementById('sell_price').value);
    const strikePrice = parseFloat(document.getElementById('strike_price').value);

    const years = endAge - startAge;
    const contributionYears = contributionEndAge - startAge;
    const savings = initialDepositValue(shares, sellPrice, strikePrice);
    const amountAtEnd = (
      futureValueOfSavings(savings, returnRate, years) +
      futureValueOfContributions(monthlyContribution, returnRate, contributionYears) -
      futureValueOfWithdrawals(withdrawal, returnRate, years)
    );

    document.getElementById('result').innerText = `
      Initial Deposit Value: $${savings.toFixed(2)}
      Amount at End: $${amountAtEnd.toFixed(2)}
    `;
  }
</script>

</body>
</html>
